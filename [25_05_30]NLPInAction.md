# 2. 더 깊은 학습: 신경망 적용
## 7. 단어 순서를 고려한 의미 분석: 합성곱 신경망
### 3. 합성곱 신경망
#### 4. 여백 채우기
- 앞에서 설명한 방식으로는 입력 이미지보다 작은 새 이미지 출력. 필터가 3 $\times$ 3 이고 이미지의 왼쪽 위에서 출발해서 한 필셀 보폭으로 좌에서 우로, 위에서 아래로 이미지를 훑다가 필터가 이미지 오른쪽 아래 끝에 도달 시, 필터의 왼쪽 위 성분은 필터 이미지 오른쪽 아래 픽셀과 두 픽셀씩 떨어져 있는 상태. 따라서 필터의 출력 '이미지'는 너비와 높이가 입력 이미지보다 두 픽셀씩 작음.
- 이 문제를 처리하는 방법은 여러 가지. 우선, 출력 이미지가 작다는 것을 문제삼지 않을 수도 있음. 이 경우는 그냥 그 다음 층의 입력 크기를 합성곱 층의 출력 크기에 맞게 조정하기만 하면 됨. 케라스에서 이에 해당하는 설정은 padding = 'valid' 이 접근 방식의 단점은 이미지 가장자리 픽셀들이 실제보다 출력에 덜 영향을 미친다는 것. 이미지 안쪽 픽셀들은 필터 크기와 동일한 횟수로 여러 번 출력 성분의 계산에 관여, 가장자리 픽셀은 그보다 더 적은 횟수로 출력 계산에 관여. 이미지가 크다면 이것이 별 문제가 되지 않지만, 합성곱을 자연어 처리에 적용 시, 특히 트위터 메시지처럼 단어 수가 그리 많지 않은 문장을 입력으로 사용할 때는 시작 단어와 끝 단어에 대한 이런 과소표집(undersampling)이 결과에 큰 영향을 미칠 수 있음.
