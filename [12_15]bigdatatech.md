# 6. 빅데이터 탐색
## 2. 빅데이터 탐색에 활용되는 기술
### 2. 스파크 - 이어서
- 스파크 아키텍처
  - 스파크의 가장 큰 특징은 고성능 인메모리 분석
  - 기존 맵리듀스 기반의 하이브 또는 피그의 경우 하둡의 로컬 디스크에 의존해 대량의 데이터를 로드, 생성함으로써 높은 IO 발생과 그로 인한 레이턴시를 피할 수 없음
  - 스파크는 이러한 단점을 극복하기 위해 데이터 가공 처리를 인메모리에서 빠르게 처리
  - 여기에 스파크 SQL, 스파크 스트리밍, 스파크 머신 러닝 등의 기능을 제공, 활용성이 높고, 다양한 클라이언트 언어(파이썬,자바,스칼라 등)와 라이브러리를 지원해 범용성도 뛰어남.
  - 스파크 코어의 주요 기능(스케줄링, 자원관리, 장애복구, RDD 관리 등)에 API로 접근할 수 있어 유연한 아키텍처 구성이 가능함
  - 스파크 엔진은 대규모 분산 노드에서 최적의 성능을 낼 수 있으며, 스파크의 분산 노드로 아파치 메소스(Apache Mesos),하둡 얀(Hadoop Yarn)을 이용함
  - 데이터소스 영역은 높은 호환성을 보장함으로써 HDFS,HBase,카산드라(Cassandra),일래스틱 서치(Elastic Search)등을 연결해 이용할 수 있음
  - 스파크 아키텍처
    - 스파크
      - Spark SQL
      - Spark Streaming
      - MLlib
      - GraphX
      - Spark Core Engine
    - Cluster Manager
      - Mesos
      - Standalone Scheduler
      - Yarn
    - Data Source
      - HDFS
      - Local
      - Elastic Search
      - HBase
- 스파크 활용 방안
  - 스파크는 다양한 클라이언트 프로그래밍 언어(파이썬, 자바, 스칼라 등)를 지원하고 SQL을 이용해 데이터에 액세스할 수도 있음.
  - 스파크 셸에서 스파크-SQL API를 이용, 추가로 적재될 스마트카 마스터 데이터를 조회 및 정제.
  - 스파크 활용 방안
    - External 영역
      - 스마트카 마스터 데이터
      - 차량용품 구매이력 데이터
      - 스마트카 상태 데이터
    - 조회
    - Spark SQL
    - 정제
    - Managed 영역
      - 스마트카 상태 데이터
      - 운전자 운행 데이터
      - 스마트카 마스터 데이터
      - 차량용품 구매이력 데이터
    - External에 적재된 스마트카 마스터 데이터 조회
    - 마스터 데이터 정제 처리 후, Managed에 적재