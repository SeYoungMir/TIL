# 2. 빅데이터 파일럿 프로젝트
## 2. 빅데이터 파일럿 아키텍처 이해
- 실제 스마트카 대상 빅데이터 프로젝트를 진행하면 앞서 도출된 요구사항들을 해결하기 위해 수십~ 수백대의 하둡 클러스터 노드의 구성 필요.
- 공부하는 입장에서 대규모 빅데이터 환경을 구성하는 것은 현실적으로 어렵고, 기업에서도 대규모 투자비가 발생하는 빅데이터 시스템 구축을 진행하는 건 쉽지 않음. 따라서 실습은 소규모 빅데이터 파일럿 환경 구성, 파일럿 환경에서도 빅데이터 핵심 기술과 기능들을 다룰 수 있게 구성
### 1. 소프트웨어 아키텍처
- 수집
  - 주키퍼(Zookeeper)
  - 플럼(Flume) >카프카(Kafka) > 스톰(Storm) & 에스퍼 (Esper)
- 적재
  - 주키퍼(Zookeeper)
  - 플럼  > 하둡(Hadoop) <-> HBase
  - 스톰(Storm) & 에스퍼 (Esper) 
    - > HBase
    - > 레디스(Redis)
- 처리/탐색
  - 주키퍼(Zookeeper)
  - 하둡(Hadoop)
    - <-> 휴(Hue)
      - 하이브(Hive) & 스파크(Spark)
      - 우지(Oozie)
        - <-> 스쿱(Sqoop)
- 분석/응용
  - 주키퍼(Zookeeper)
  - 하둡(Hadoop)
  - 임팔라(Impala)
  - 제플린(Zeppelin)
  - 머하웃(Mahout)
- 수집 데이터는 스마트 카 상태 로그 & 운전자 로그
- 적재 ~ 분석 응용은 Cloudera Manager를 통해 업무 시스템 1 <-> 업무 시스템 DB <-> 업무 시스템 2 를 통함
- 소프트웨어 아키텍처에 포함된 메인 오프소스 소프트웨어만 17종, 분석 확장 영역의 소프트웨어인 R, 텐서플로, 플라스크 포함 총 20종.
- 각 오픈소스 프로젝트는 크게 수집, 적재, 처리 및 탐색, 분석 및 응용 영역으로 분류 가능
- 위의 아키텍처는 이미 많은 빅데이터 시스템의 소프트웨어 아키텍처로 크게 하둡을 기준으로 2개의 영역으로 나눌 수 있음.
### 2. 수집 레이어
- 앞선 요구사항 1, 2로부터 차량의 로그를 수집하기 위해 플럼을 사용하고, 요구사항 2의 실시간 로그 이벤트를 처리하기 위해 스톰이 사용됨. 이 때 플럼과 스톰 사이의 카프카는 데이터의 안정적인 수집을 위해 버퍼링 및 트랜잭션 처리를 담당함
### 3. 적재 레이어
- 적재 대상은 하둡과 HBase, 레디스.
- 요구사항 1의 대용량 로그 파일은 수집과 동시에 플럼 > 하둡으로 적재됨, 요구사항 2의 플럼 > 카프카 > 스톰 > HBase/레디스로 적재. 이 때 스톰을 통해 실시간 이벤트 분석을 수행하고 분석된 결과에 따라 HBase, 레디스로 나누어 적재됨
