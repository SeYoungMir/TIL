# 2. 크롤러 설계
## 1. 크롤러 설계 기본
### 1. 크롤러의 종류
- 크롤러의 형태는 다양
- 검색 엔진의 등장으로 굉장히 메이저한 단어
- 구글은 세계의 모든 데이터를 인덱스하기위한 높은 수준의 크롤러 개발, 초대량의 데이터 수집
- 목적과 대상에 따라 크롤러에 필요한 기능이 다름
- 목적과 대상에 따라 필요한 기능만 갖춘 크롤러를 설계하고 개발하는 능력 필요
### 2. 목적과 대상을 명확하게 하기
- 목적이 어떤 사이트 전채를 내려받거나, 백업하는 것이라면 wget으로 충분
- 특정 뉴스사이트에서 새로운 기사가 나왔을 때 관심 있는 키워드 포함, 메일 또는 슬랙 등으로 통지하는 것을 목표로 하거나 동적 링크를 포함해 href 속성으로 다음 페이지로 못넘어갈때는 wget만으로는 대응 어려움
- 단순한 HTML 소스라면 이전 HTML 소스 저장, 전체 비교해 변경 감지해 사용 가능
- 다양한 블럭으로 조합된 복잡한 레이아웃을 가진 사이트는 전체 비교로 변경 감지 어려움
- 직접 크롤러를 개발하기 전에 기존에 있는 도구,라이브러리로는 할 수 없는지 살펴야함.
- 직접 개발한다고 모든 것을 개발해야하는 것은 아님
### 3. URL 확인
- 대상 사이트의 특정 주제를 수집하고 싶을 때 모든 페이지를 크롤링한 뒤 특정 주제와 관련된 페이지만 필터링하는 방법도 있지만 이는 비효율적
- 현대적인 사이트는 웹 프레임워크 또는 CMS(Contents Management System:콘텐츠 관리 시스템)를 사용해서 만들어지는 경우 많아 URL이 어느정도의 계층을 가지고 있음
- 목적 데이터가 특정 계층 아래에 있다는 것을 확인할 수 있다면 해당 계층만 크롤링 하는 방법이 전체를 크롤링하는 방법보다 효율적, 이때 사이트맵 활용 가능
#### 1. 사이트맵을 트리 구조(페이지)로 제공하는 사이트
- 서울 특별시 사이트의 사이트맵을 예시로
- 리스트에 있는 항목은 다음과 같음
  - 로그인
  - 나의 서울
    - 나의 서울
    - 이용안내
    - ...
  - 서울 소개
    - 시청 안내
      - 조직도
      - ...
    - 서울의 상징물(조례)
      - 휘장
      - ...
- 사이트맵에서는 위와 같은 내용이 어떤 URL과 대응하는지 확인 가능, 따라서 사이트맵을 보면 어떤 정보가 어떤 URL 아래 있는지 확인 가능