## 2. 연계 메커니즘 구성하기
### 1. 연계 메커니즘 정의
- 송신 시스템 및 송신 모듈
  - 연계 서버 또는 송신 Adapter
    - 연계 데이터 생성 및 추출
      - 오류가 발생하는가?
        - Log 기록  
    - 코드 매핑 및 데이터 변환
      - 오류가 발생하는가?
        - Log 기록
    - I/F 테이블 또는 파일 생성
      - Log 기록
- 전송
- 수신 시스템 및 수신 모듈
  - 수신 Adapter
    - I/F 테이블 또는 파일 생성
      - Log 기록
      - 오류가 발생하는가?
        - Log 기록
    - 코드 매핑 및 데이터 변환
      - 오류가 발생하는가?
        - Log 기록
    - 운영 DB에 연계 데이터 반영
#### 1. 연계 메커니즘의 개념
1. 연계 데이터 생성 및 추출
   - 운영 DB에서 연계 데이터를 추출하고 생성하는 부분으로 적용하는 연계 솔루션과는 관계 없이 응용 시스템별로 별도 구현
   - 응용 시스템에서 구현하는 방식으로는 응용 애플리케이션에서 생성하는 방법과 DB의 오브젝트를 이용하는 방법이 있음
2. 코드 매핑(Mapping)및 데이터 변환
   - 송신 시스템에서 사용하는 코드를 수신 시스템의 코드로 매핑 및 변환, 데이터 타입 등이 상이할 경우 데이터 변환 작업을 수행
   - 코드 매핑과 데이터 변환은 송신 시스템에서 인터페이스 테이블 또는 파일 생성 시에 수행하거나 수신 시스템에서 연계 데이터를 수신 시스템의 운영 데이터베이스에 반영하기 전에 수행 가능
3. 인터페이스 테이블 또는 파일 설정
   - 연계 데이터는 데이터베이스의 테이블 또는 파일 형식으로 생성
   - 테이블과 파일 형식 여부는 적용하는 연계 솔루션에서 지원하는 기능에 따라 선택 가능
4. 로그 기록
   - 송신 시스템에서의 일련의 과정과 수신 시스템에서 일련의 과정상 모든 활동에 대한 결과를 Log File에 기록
5. 연계 서버 또는 송신 어댑터
   - 연계 서버, 송수신 어댑터는 도입한 연계 솔루션에서 제공하는 연계 메커니즘의 구성 요소로, 도입한 연계 솔루션에 따라 지원하는 기능은 상이
   - 연계 서버는 송신 시스템 또는 수신 시스템 둘 중 한 곳에만 설치하며, 인터페이스 테이블의 데이터를 전송 형식으로 변환, 송수신 대상 관리, 실제 송수신, 송수신 여부 관리 등 송수신과 관련된 모든 처리를 수행
6. 전송
   - 연계 서버에 의해 송신 시스템에서 생성된 연계 데이터는 네트워크 환경에 따라 설정된 전송 형식으로 변환된 후 수신 시스템으로 전송됨
7. 연계 서버 또는 수신 어댑터
   - 송신 시스템에서 연계 데이터를 전송 현식으로 전환하여 송신한 정보를 다시 인터페이스 테이블의 레이아웃으로 전환하여 인터페이스 테이블을 생성함
   - 연계 서버가 없는 경우에는 연계 데이터가 송수신 시스템의 운영 서버에 모듈을 구현, 인터페이스 데이터를 전송 형태로 변환, 송신 등의 역할을 수행함
8. 운영 DB에 연계 데이터 반영
   - 수신된데이터를 운영 DB에 반영하는 과정으로 변환 프로그램을 별도로 구현
#### 2. 연계 메커니즘의 기능
- 데이터를 생성하여 전송하는 송신 체계와, 운영 DB에 반영하는 수신 체계로 구성됨
1. 송신 시스템은 운영 데이터베이스 애플리케이션으로부터 연계 데이터를 인터페이스 테이블 또는 파일로 생성하여 송신함
2. 수신 시스템은 수신한 인터페이스 또는 파일의 데이터를 변환하여 운영 데이터 베이스에 반영함
3. 중계 서버 배치는 성능과 보안의 품질 특성 중 보안의 중요성이 강조 되며, 송수신 시스템의 네트워크 위치가 상이한 경우 주로 설계하는 아키텍처 방식
#### 3. 연계 방식
1. 연계 방식 별 장단점
<table>
    <tr>
        <th>방식</th>
        <th>장점</th>
        <th>단점</th>
    </tr>
    <tr>
        <td>직접 연계</td>
        <td>연계 및 통합 구현이 단순하며 용이함<br>중간 매개체가 없으므로 데이터 연계 처리 성능이 대체로 좋음<br>개발 소요 비용 및 기간이 짧음</td>
        <td>시스템 간의 결합도가 높아서, 시스템 변경에 민감<br>암∙복호화 처리, 비즈니스 로직 적용 등이 불가<br>연계 및 통합 가능한 시스템 환경이 제한적</td>
    </tr>
    <tr>
        <td>간접 연계</td>
        <td>서로 상이한 네트워크, 프로토콜 등 다양한 환경을 연계 및 통합 가능 <br> 시스템 간 인터페이스 변경 시에도 장애나 오류 없이 서비스 가능<br>보안이나 비즈니스 처리를 위한 로직을 자유롭게 반영 가능</td>
        <td>연계 아키텍처 및 메커니즘이 복잡하고 중간 매개체로 인해 성능 저하 요소 존재<br>개발 및 적용을 위한 테스트 기간이 상대적 장기간 소요</td>
    </tr>
</table>

2. 연계 방식 분류
<table>
    <tr>
        <th colspan=2>방식</th>
        <th>연계 방식 별 상세 설명</th>
        <th>예시</th>
        <th>송수신 서버(엔진)</th>
    </tr>
    <tr>
        <td rowspan=5>직접연계</td>
        <td>DB Link</td>
        <td>데이터베이스에서 제공하는 객체 이용<br>수신시스템 DN에 송신시스템 에서 접근 가능한 DB Link 객체를 생성한 후 송신 시스템에서 링크명으로 직접 참조하여 연계</td>
        <td>테이블 명<br>@DBLink명</td>
        <td>X</td>
    </tr>
    <tr>
        <td>DB Connection Pool (WAS)</td>
        <td>수신 시스템 WAS에서 송신 시스템 DB로 연결 되는 Connection Pool 생성<br>프로그램 소스에서 WAS에 설정된 Connection Pool 명을 참고하여 구현</td>
        <td>송신 시스템 데이터 소스</td>
        <td>X</td>
    </tr>
    <tr>
        <td>JDBC</td>
        <td>수신 시스템의 Batch 또는 온라인 프로그램에서 JDBC 드라이버를 이용하여 송신 시스템의 DB와 연결 생성</td>
        <td>jdbc:DBMS 제품명:<br>DBMS 설치 서버 IP:Port:DB instance 명</td>
        <td>X</td>
    </tr>
    <tr>
        <td>Hyper Link</td>
        <td>웹 애플리케이션 화면에서 Hyper Link 이용</td>
        <td><XMP><a href="url"></XMP><br>LINK 화면명</a></td>
        <td>X</td>
    </tr>
    <tr>
        <td>API or Open API</td>
        <td>송신 시스템의 DB와 연결하여 데이터 제공하는 인터페이스 프로그램</td>
        <td>제공하는 컴포넌트명.<br>데이터 처리 메서드명(파라미터 1~N);</td>
        <td>Δ</td>
    </tr>
    <tr>
        <td rowspan=3>간접연계</td>
        <td>EAI</td>
        <td>실제 송수신 처리와 진행 현황을 모니터링 및 통제하는 EAI 서버, 송수신 시스템에 설치되는 Adapter를 이용</td>
        <td>메타빌드, 비즈마스터 등</td>
        <td>O</td>
    </tr>
    <tr>
        <td>Web service/ESB</td>
        <td>웹 서비스가 설명된 WSDL과 SOAP 프로토콜을 이용한 시스템간 연계<br>미들웨어인 ESB에서 서빗간 연동을 위한 변환 처리로 다중 플랫폼 지원</td>
        <td>WSDL,UDDI,SOAP,Service,ESB</td>
        <td>O</td>
    </tr>
    <tr>
        <td>Socket</td>
        <td>Socket을 생성하여 포트를 할당하고, 클라이언트의 요청을 연결하여 통신<br>네트워크 프로그램의 기반 기술</td>
        <td>TcpServer.listen();<br>TcpServer.accept();<br>TcpClient.connect();<br>TcpClient.receive();</td>
        <td>O</td>
    </tr>
</table>
