# 1.NLP 기초.
## 4. 단어 빈도에서 의미 찾기: 의미 분석
### 5. 잠재 디리클레 할당(LDiA)
#### 1. LDiA의 기초
- LDiA에 기초한 문서 생성기는 다음 두 가지를 '주사위(난수)'로 결정.
  1. 문서를 위해 생성할 단어들의 수(푸아송 분포)
  2. 문서를 위해 혼합될 주제들의 수(디리클레 분포)
- 일단 이 두 수를 결정한 후에는 문서를 위한 단어들을 고르는 실제 작업을 진행. 가상의 BOW 생성기는 각 주제를 훑으면서 그 주제에 적합한 단어를 고르는 과정을 단어 수가 앞의 1번ㄹ에서 결정한 문서당 단어 수에 도달할 때까지 반복. 이 과정에서 어려운 부분은 주제에 적합한 단어들을 고르는 것.
- 일단 각 주제에 대한 각 단어의 기여도 또는 '확률'을 계산해서 용어-주제 행렬로 저장해 두었다면, 문서 생성기('봇')은 그냥 주어진 주제에 대한 단어 확률들을 이용, 특정 단어를 확률적으로 선택하면 됨.
- 문서의 단어 수를 결정하는 데 쓰이는 푸아송 분포(주사위 던지기 단계 1)는 '평균'문서 길이라는 매개변수 하나로 정의. 그리고 주제 개수를 결정하는 데 쓰이는 디리클레 분포는 그보다 두 개 많은 세 개의 매개변수로 정의. 두 수치를 결정한 후에는 문서에 사용할 모든 단어와 모든 주제의 용어- 주제 행렬만 있으면 간단한 절차로 새로운 문서(그냥 단어 모음의 형태일 뿐이지만)들을 생성 가능.
- 이러한 문서 생성 문제를 뒤집으면 원래의 문제, 즉 기존 문서의 단어들로부터 문서의 주제를 추정하는 문제가 됨. 이 문제를 풀려면 두 주사위 던지기(난수 발생)에 관한 매개변수들을 구해야 함. 그런 다음에는 말뭉치에서 용어-주제 행렬을 계산해야 함. 이것이 LDiA가 하는 일.
- 블레이와 응은 말뭉치의 문서들을 통계학적으로 분석하면 두 난수 발생 확률분포의 매개 변수들을 구할 수 있음을 깨달음. 1번 수치, 즉 문서의 단어 수를 결정하기 위해서는 해당 푸아송 분포를 정해야 하는데, 이를 위한 평균은 말뭉치의 모든 문서에 대한 단어 모음들의 평균 단어 수(또는 평균 n-그램 수)로 설정하면 됨. 다음은 이를 계산하는 파이썬 코드
- ```python
  total_corpus_len=0
  for document_text in sms.text:
        total_corpus_len += len(casual_tokenize(document_text))
  mean_document_len = totla_corpus_len/len(sms)
  round(mean_document_len,2)
  ```
- 평균을 계산하는 두 줄을 다음처럼 한 줄로 표현 가능
- ```python
  sum([len(casual_tokenize(t)) for t in sms.text])*1./len(sms.text)
  ```
