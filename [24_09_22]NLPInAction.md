# 1.NLP 기초.
## 2. 단어 토큰화
### 2. 토큰 생성기를 이용한 어휘 구축
#### 3. 토큰 개선
- 단어 분리를 위한 정규 표현식 개선
  - 토큰 생성기가 좀 더 빠르게 실행되도록  정규 표현식을 컴파일해서 사용. 컴파일된 정규 표현식은 속도 외에도 여러 장점 존재
    - 정규식 패턴을 언제 컴파일할 것인가?
      - 파이썬의 정규 표현식 모듈은 정규 표현식을 미리 컴파일하는 기능을 제공. 한 번 컴파일한 정규 표현식은 코드의 여러 곳에서 재사용 가능.
      - 예를 들어 전화번호를 추출하는 정규식이 있다면, re.compile()을 이용, 그 정규 식을 미리 컴파일하고 그 결과를 하나의 인수로서 어떤 토큰화 함수나 클래스에 넘겨주는 식으로 재사용.
      - 파이썬은 정규 표현식을 컴파일한 결과를 캐시에 담아두므로(최대 MAXCACHE=100까지),코드의 실행속도에는 영향이 없음. 그러나 한 프로그램이 사용하는 정규 표현식이 100개 이상이라면 속도의 이득이 생길 수 있음. re에는 대응되는 함수가 없는 어떤 정규 표현식 메서드를 호출해야 할 때도 re.compile이 유용
  - ```python
    >>> pattern = re.compile(r'([-\s.,;!?])+')
    >>> tokens = pattern.split(sentence)
    >>> tokens[-10:] # 마지막 토큰 10개만 출력
    ```
  - 위의 간단한 정규 표현식은 토큰 "26."의 끝에 붙은 마침표를 벗겨내는 데 유효하나, 새로운 문제 발생.
  - 어휘에 포함할 필요가 없는 공백과 문장 부호까지 토큰화.
  - 다음은 불필요한 토큰을 걸러내는 방법을 보여주는 예제 코드.
  - ```python
    >>> sentence = """Thomas Jefferson began building Monticello at the age of 26."""
    >>> pattern = re.compile(r'([-\s.,;!?])+')
    >>> tokens - pattern.split(sentence)
    >>> [x for x in tokens if x and x not in '- \t\n.,;!?']
    ```
  - 위 코드 실행 시, 파이썬의 내장 정규 표현식 모듈 re로도 예제 문장을 얼마든지 잘 토큰화 가능. 불필요한 토큰들을 잘 걸러내기만 하면 됨. 
  - 그러나 다른 문제가 발생 가능. 