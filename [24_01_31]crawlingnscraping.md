# 2. 크롤러 설계
## 3. 배치를 만들 때의 주의점
### 2. 설계 예
2. 데이터 저장 방법
   - 크롤링하고 스크레이핑한 데이터를 저장하는 방식은 데이터의 형식과 양에 따라 달라짐
   - 데이터의 형식이 간단하고 양이 적다면 단순하게 파일로 저장하는 방법이 편함.
   - 형식이 복잡하고 양이 많다면 데이터베이스를 사용하는 방식이 편함
   - 초기 사이트는 데이터가 적어도 이후에 자료가 계속 늘어날 가능성이 있음. 따라서 미래까지 생각하며 데이터를 저장하는 방법을 결정하는 것이 좋음
3. 파일 저장 형식
   - 파일에 저장하는 경우 CSV,TSV,JSON 또는 프로그래밍 언어가 가진 직렬화(Serialize)방식(파이썬의 경우 Pickle) 등을 사용할 수 있음
     - CSV는 Comma-Separated Value의 약자, 쉼표로 구분한 데이터
     - TSV는 Tab-Separated Values의 약자, 탭으로 구분한 데이터
     - JSON은 Javascript Object Notation의 약자로 가벼운 데이터 교환 형식
   - CSV 또는 TSV는 단순한 데이블 데이터로 엑셀 등의 스프레드 시트 프로그램에서도 쉽게 열 수 있음. 중첩구조는 가질 수 없음
   - JSON은 중첩 구조를 가질 수 있지만, 스프레드 시트 프로그램에서 열 수 없음.
     - 데이터베이스 내부의 URL에 인덱스 만들기
       - 데이터베이스에 URL을 저장하고, 인덱스를 만들 때는 몇 가지 주의사항이 있음. 
       - MySQL의 InnoDB 엔진은 기본적으로 단일 칼럼 인덱스의 최대 키 길이가 767바이트, 문자 코드가 utf8mb4라면 한 문자에 최대 4바이트 사용하므로,문자 길이가 191 이상인 URL에는 인덱스를 만들 수 없음.
       - 따라서 URL 해시를 만들고 이 해시에 인덱스를 만드는 방법 사용
       - BLAKE2 해시 함수를 사용하면 URL을 16자리의 16진수 해시로 만들어 저장 가능
  