# 2. 크롤러 설계
## 1. 크롤러 설계 기본
### 3. URL 확인
#### 2. 사이트맵을 XML로 제공하는 사이트
- 사이트맵을 페이지로 제공하진 않지만 검색 엔진 최적화(Search Engine Optimized=SEO)에 어느 정도 신경 쓴 사이트라면 HTML로 만들어진 사이트맵 페이지가 없어도 XML로 사이트맵을 제공하고 있을 가능성이 높음
- XML로 사이트맵을 제공하면 검색 엔진의 크롤러가 사이트를 인덱스할 때 해당 사이트맵을 활용
- 사이트맵 XML을 어디에 어떻게 배치하는지는 따로 정해져있진 않지만 /sitemap.xml에 배치하는 경우가 다수
- 어디까지나 검색 엔진에 참고용이기 때문에 사이트에 따라서는 일부 페이지만 포함한 경우 다수
#### 3. 사이트맵을 확인할 수 없을 때
- 사이트맵을 확인할 수 없을 때는 카테고리 목록 페이지로 이동하는 링크는 없는지, 사이트 내부에서 하나하나 찾아봐야함.
- URL구조를 제대로 파악하는 것이 중요
### 4. 목적 데이터를 따로 제공하는지 확인하기
- 사이트에 따라서는 불특정 다수의 크롤러가 접근, 부하 발생을 막기 위해 공식 아카이브 데이터를 제공
- 예시로, 위키피디아(Wikipedia)는 데이터베이스를 덤프(백업) 한 아카이브 데이터 제공
- 데이터 덤프를 제공한다면 크롤링보다 이를 활용하는 것이 좋음.
- 공식적으로 아카이브 데이터 덤프를 제공해주지 않는 경우여도 웹 API와 피드 제공이 된다면 이를 활용하는 쪽이 난이도가 낮음
### 5. 웹 API
- 웹 API는 특정 URL에 정해진 매개 변수를 넣어 접근하면 XML 또는 JSON 등의 구조화된 데이터를 제공해주는 기능
- JSON 형식의 데이터를 웹 브라우저에서 곧바로 출력하면 보기가 힘드므로 jq 명령어 등의 JSON 유틸리티를 사용하면 쉽게 볼 수 있음.
- 데이터 또는 관련된 태그가 제공되지 않는 경우에는 링크를 HTML 소스에서 추출 필요.
- 따라서 크롤링하면서 스크레이핑으로 추출한 링크를 기반으로 다시 크롤링.
