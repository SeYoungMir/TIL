# 8. 크롤러 유지보수와 운용
## 1. 정기적인 실행과 주기적인 실행
### 1. 정기적으로 크롤링
3. cron 설정 사용 예(데스크톱 알림)
   - macOS에서는 다음 명령어로 데스크톱 통지 가능.
   - ```cmd
     $ osascript -e 'display notification "주마등" with title "리마인더"'
     ```
4. cron 편집
   - 다음 명령어를 입력해서 crontab을 편집 가능
   - ```cmd
     $ crontab -e
     ```
   - 표준 환경에서는 에디터로 vi가 실행. vi가 실행되면 [i]키를 눌러서 입력 모드로 들어간 다음 설정 내용 입력. 편집을 완료했다면 [esc] 키를 눌러 편집모드 종료. 이 상태에서 강제 종료는 :q!를 입력, 저장한 다음 종료하려면 :wq를 입력
5. 날짜 설정
   - 매년 6월 30일 오후 9시 5분에 실행되게 하려면 다음처럼 입력
   - ```crontab
     0 9 30 6 * osacript -e 'display notification "주마등" with title "리마인더"'
     ```
6. 요일 설정.
   - 필드는 쉼표로 구분해서 여러 개 지정 가능. 매주 수요일과 토요일에 실행되게 하려면 다음과 같이 설정
   - ```crontab
     0 9 * * wed,sat osacript -e 'display notification "주마등" with title "리마인더"'
     ```
7. 전송 간격 설정
   - 슬래시를 사용 시 전송 간경을 지정할 수 있음.(<명령어>부분에는 원하는 명령어 입력)
   - ```crontab
     */20 * * * * <명령어>
     ```
8. 날짜, 요일, 가격을 조합해서 설정.
   - 하이픈을 사용해서 범위 지정 가능. 지금까지 설명한 여러 개 조합 가능.
   - ```crontab
     0-30/10 9-18/2 * 1-12/2 wed,sat <명령어>
     ```
   - 위의 예는 '1월부터 12월 중에 2개월마다','매주 수요일과 토요일','9시부터 18시까지 2시간 간격','0분부터 30분까지 10분 간격'으로 명령어 실행하도록 하는 예
9. 특정 시간마다 실행하게 설정하기.
   - 45분에 1번 실행하고 싶을 때는 1시간마다 '0분과 45분','30분과 15분'일때 번갈아가면서 실행. 따라서 다음처럼 여러 줄로 각각의 내용 설정
   - ```crontab
     0,45 *.3 * * * command
     30 1-22/3 * * * command
     15 2-23/3 * * * command
     ```
10. 매 분마다 실행하는 설정.
    - 사용할 일이 많지는 않아도 매분 30초에 명령어 실행 시 다음처럼 작성 가능.
    - ```crontab
      * * * * * command & sleep 30; command
      ```
    - 처음 command &으로 인해서 명령어 백그라운드 실행, 이후 sleep 명령어로 30초 대기, 이후 command 명령어 실행.